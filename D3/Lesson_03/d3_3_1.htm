<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Scatterplot - Lesson 3</title>
    <script type="text/javascript" src="http://d3js.org/d3.v6.js"></script>
</head>

<body>
    <script type="text/javascript">
        let w = 500, h = 400;

        let svg = d3.select('body').append('svg')
            .attr('width', w)
            .attr('height', h);

        let dataset = [];
        for (var i = 0; i < 10 + Math.random() * 5; i++) {

            r = Math.random() * 5 + 1;
            cx = Math.round(Math.random() * (w - r) + r);
            cy = Math.round(Math.random() * (h - r) + r);

            dataset.push([cx, cy, r]);
        }

        console.log(dataset.length);

        let circles = svg.selectAll("circle")
            .data(dataset)
            .join("circle")
            .attr("cx", d => d[0])
            .attr("cy", d => d[1])
            .attr("r", d => d[2]);

        svg.selectAll("text")
            .data(dataset)
            .join("text")
            .text(d => "(" + d[0] + ", " + d[1] + ")")
            .attr("x", d => (d[0]>=w*0.85)?(d[0]-60):d[0])
            .attr("y", d => d[1])
            .attr("stroke", "red")
            .style("font-size", "13px");

    </script>
</body>

</html>